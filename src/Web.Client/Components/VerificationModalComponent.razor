<!--  Copyright (c) 2021 David Pine. All rights reserved.
      Licensed under the MIT License.
-->

<ModalComponent @ref="_modal" OnDismissed=@OnDismissed>
    <TitleContent>
        <span class="icon pr-2">
            <i class="fas fa-robot"></i>
        </span>
        <span>Are you human?</span>
    </TitleContent>
    <BodyContent>
        <form>
            <div class="field">
                <label class="label">@_math.GetQuestion()</label>
                <div class="field-body">
                    <div class="field">
                        <p class="control is-expanded has-icons-left">
                            @{
                                var inputValidityClass = _answeredCorrectly is false ? " invalid" : "";
                                var inputClasses = $"input{inputValidityClass}";
                            }
                            <input @bind="_attemptedAnswer" class=@inputClasses
                                type="text" placeholder="Answer?" />
                            <span class="icon is-small is-left">
                                <i class="fas fa-info-circle"></i>
                            </span>
                        </p>
                    </div>
                </div>
            </div>
        </form>
    </BodyContent>
    <ButtonContent>
        <button class="button is-info is-large is-pulled-left" @onclick=Refresh>
            <span class="icon">
                <i class="fas fa-redo"></i>
            </span>
            <span>Refresh</span>
        </button>
        <button class="button is-success is-large" @onclick=AttemptToVerify>
            <span class="icon">
                <i class="fas fa-check"></i>
            </span>
            <span>Verify</span>
        </button>
    </ButtonContent>
</ModalComponent>
